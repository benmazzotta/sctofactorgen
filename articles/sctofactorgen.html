<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="sctofactorgen">
<title>sctofactorgen • sctofactorgen</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="sctofactorgen">
<meta property="og:description" content="sctofactorgen">
<meta property="og:image" content="https://benmazzotta.github.io/sctofactorgen/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sctofactorgen</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/sctofactorgen.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>sctofactorgen</h1>
            
      
      
      <div class="d-none name"><code>sctofactorgen.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://benmazzotta.github.io/sctofactorgen/">sctofactorgen</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="surveycto-factor-generator">SurveyCTO Factor Generator<a class="anchor" aria-label="anchor" href="#surveycto-factor-generator"></a>
</h2>
<p>This package wrangles categorical variables for SurveyCTO. In the
language of R, categorical variables are factors with levels and
labels.</p>
<div class="section level3">
<h3 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h3>
<p>SurveyCTO is one of the most widely used survey platforms in the
world. Based on ODK, it helps users to collect clean and tidy data
efficiently.</p>
<p>Its desktop software integrates nicely with Stata, Excel, and
SPSS.</p>
<p>This package offers direct access to labeled survey datasets through
the SurveyCTO API, rather than through a workaround such as importing
SPSS or Stata files into R.</p>
</div>
<div class="section level3">
<h3 id="pre-flight-check">Pre-flight check<a class="anchor" aria-label="anchor" href="#pre-flight-check"></a>
</h3>
<p>You will need access to a SurveyCTO server for this to work. Store
these in a plaintext file.</p>
<ul>
<li>servername</li>
<li>username</li>
<li>password</li>
</ul>
<p>See the <a href="https://agency-fund.github.io/rsurveycto/" class="external-link">rsurveycto</a> package for details.</p>
</div>
<div class="section level3">
<h3 id="api-access">API access<a class="anchor" aria-label="anchor" href="#api-access"></a>
</h3>
<p>The {rsurveycto} package offers several methods to pull data and
forms from the server via API. The first one requires and authorization
block. Note that we store it in memory for this session.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://agency-fund.github.io/rsurveycto/" class="external-link">rsurveycto</a></span><span class="op">)</span></span>
<span><span class="va">auth</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://agency-fund.github.io/rsurveycto/reference/scto_auth.html" class="external-link">scto_auth</a></span><span class="op">(</span><span class="st">"./auth_details"</span><span class="op">)</span></span></code></pre></div>
<p>This function returns a boolean TRUE to confirm that you’ve saved
your authentication block correctly.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/check_scto_api.html">check_scto_api</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Which form do I need?</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"How many forms do we have on the server?"</span><span class="op">)</span></span>
<span><span class="co">#&gt; How many forms do we have on the server?</span></span>
<span><span class="fu"><a href="https://agency-fund.github.io/rsurveycto/reference/scto_meta.html" class="external-link">scto_catalog</a></span><span class="op">(</span><span class="va">auth</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Reading metadata for server `<span style="color: #FFAF00;">sctofactorgen</span>`.</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Which one is for github?"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Which one is for github?</span></span>
<span><span class="fu"><a href="https://agency-fund.github.io/rsurveycto/reference/scto_meta.html" class="external-link">scto_catalog</a></span><span class="op">(</span><span class="va">auth</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">title</span>, <span class="st">"github"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Reading metadata for server `<span style="color: #FFAF00;">sctofactorgen</span>`.</span></span>
<span><span class="co">#&gt; Key: &lt;type, id, title, version, group_id, group_title&gt;</span></span>
<span><span class="co">#&gt;      type              id           title    version group_id</span></span>
<span><span class="co">#&gt;    &lt;char&gt;          &lt;char&gt;          &lt;char&gt;      &lt;num&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1:   form demo_for_github demo_for_github 2404261415        1</span></span>
<span><span class="co">#&gt;                                    group_title</span></span>
<span><span class="co">#&gt;                                         &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1: The root or home group (outside all groups)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="labels-with-sctofactorgen">Labels with {sctofactorgen}<a class="anchor" aria-label="anchor" href="#labels-with-sctofactorgen"></a>
</h3>
<p>Everything else can be done with <a href="https://benmazzotta.github.io/sctofactorgen/">sctofactorgen</a>.</p>
<p>Load the response data.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scto_responses.html">scto_responses</a></span><span class="op">(</span>.formid <span class="op">=</span> <span class="st">"demo_for_github"</span><span class="op">)</span> </span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Reading metadata for server `<span style="color: #FFAF00;">sctofactorgen</span>`.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Reading form `<span style="color: #00AF87;">demo_for_github</span>`.</span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 11</span></span>
<span><span class="co">#&gt; Columns: 20</span></span>
<span><span class="co">#&gt; $ CompletionDate    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2024-04-26 18:13:43, 2024-04-26 18:15:51, 2024-04-2…</span></span>
<span><span class="co">#&gt; $ SubmissionDate    <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2024-04-26 18:13:43, 2024-04-26 18:15:51, 2024-04-2…</span></span>
<span><span class="co">#&gt; $ starttime         <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2024-04-26 18:13:19, 2024-04-26 18:13:45, 2024-04-2…</span></span>
<span><span class="co">#&gt; $ endtime           <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2024-04-26 18:13:42, 2024-04-26 18:15:51, 2024-04-2…</span></span>
<span><span class="co">#&gt; $ deviceid          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "(web)", "(web)", "(web)", "(web)", "(web)", "(web)"…</span></span>
<span><span class="co">#&gt; $ device_info       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebK…</span></span>
<span><span class="co">#&gt; $ duration          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "23", "126", "18", "22", "16", "18", "17", "19", "14…</span></span>
<span><span class="co">#&gt; $ consent           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1"</span></span>
<span><span class="co">#&gt; $ name              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Paul Ellis", "Lyndon Riley", "Vivian Fowler", "Tara…</span></span>
<span><span class="co">#&gt; $ age               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "28", "26", "24", "30", "24", "42", "61", "27", "24"…</span></span>
<span><span class="co">#&gt; $ best_jollof       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "6", "2", "6", "5", "2", "7", "1", "3", "7", "6", "5"</span></span>
<span><span class="co">#&gt; $ recommend_kenya_3 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1", NA, NA, "1", "1", NA, NA, NA, NA, "1", NA</span></span>
<span><span class="co">#&gt; $ recommend_kenya_2 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1", "1", NA, NA, "1", NA, NA, NA, NA, "1", NA</span></span>
<span><span class="co">#&gt; $ instanceID        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "uuid:b86c516f-f5e0-4fdb-a9ba-a4b520b618bc", "uuid:1…</span></span>
<span><span class="co">#&gt; $ formdef_version   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "2404261409", "2404261409", "2404261415", "240426141…</span></span>
<span><span class="co">#&gt; $ review_status     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "APPROVED", "APPROVED", "APPROVED", "APPROVED", "APP…</span></span>
<span><span class="co">#&gt; $ KEY               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "uuid:b86c516f-f5e0-4fdb-a9ba-a4b520b618bc", "uuid:1…</span></span>
<span><span class="co">#&gt; $ recommend_kenya_8 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, "1", NA, "1", NA, NA, NA, NA, NA, "1", NA</span></span>
<span><span class="co">#&gt; $ recommend_kenya_6 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, "1", "1", NA, NA, NA, NA, "1", NA, "1", NA</span></span>
<span><span class="co">#&gt; $ recommend_kenya_5 <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, NA, "1", "1", NA, NA, "1", NA, NA, "1", NA</span></span></code></pre></div>
<p>Load the questionnaire.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qnr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scto_form.html">scto_form</a></span><span class="op">(</span><span class="st">"demo_for_github"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">qnr</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "settings"                        "choices"                        </span></span>
<span><span class="co">#&gt; [3] "fields"                          "formulasConvertedToStaticValues"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">qnr</span>, <span class="va">class</span><span class="op">)</span></span>
<span><span class="co">#&gt; $settings</span></span>
<span><span class="co">#&gt; [1] "data.table" "data.frame"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $choices</span></span>
<span><span class="co">#&gt; [1] "data.table" "data.frame"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $fields</span></span>
<span><span class="co">#&gt; [1] "data.table" "data.frame"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $formulasConvertedToStaticValues</span></span>
<span><span class="co">#&gt; [1] "logical"</span></span></code></pre></div>
<p>Read the choices.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_choices</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_choices.html">read_choices</a></span><span class="op">(</span><span class="va">qnr</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 19</span></span>
<span><span class="co">#&gt; Columns: 5</span></span>
<span><span class="co">#&gt; $ list_name <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "yesno", "yesno", "jollofrice", "jollofrice", "jollofrice", …</span></span>
<span><span class="co">#&gt; $ value     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "1", "0", "1", "2", "3", "4", "5", "6", "7", "1", "2", "3", …</span></span>
<span><span class="co">#&gt; $ label     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Yes", "No", "Senegal", "Gambia, The", "Ghana", "Nigeria", "…</span></span>
<span><span class="co">#&gt; $ image     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", …</span></span>
<span><span class="co">#&gt; $ filter    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", …</span></span></code></pre></div>
<p>Read the questions.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_questions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_questions.html">read_questions</a></span><span class="op">(</span><span class="va">qnr</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 19</span></span>
<span><span class="co">#&gt; Columns: 23</span></span>
<span><span class="co">#&gt; $ type               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "start", "end", "deviceid", "phonenumber", "calcula…</span></span>
<span><span class="co">#&gt; $ name               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "starttime", "endtime", "deviceid", "devicephonenum…</span></span>
<span><span class="co">#&gt; $ label              <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "Welcome to the sample …</span></span>
<span><span class="co">#&gt; $ hint               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ default            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ appearance         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "intro", "", "quickcomp…</span></span>
<span><span class="co">#&gt; $ constraint         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ constraint_message <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ relevance          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "${cons…</span></span>
<span><span class="co">#&gt; $ disabled           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ required           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "yes", "", "", …</span></span>
<span><span class="co">#&gt; $ required_message   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ read_only          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ calculation        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "device-info()", "duration()", "", …</span></span>
<span><span class="co">#&gt; $ repeat_count       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ media_image        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ media_audio        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ media_video        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ choice_filter      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ note               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "(Group…</span></span>
<span><span class="co">#&gt; $ response_note      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "O", "", "", ""…</span></span>
<span><span class="co">#&gt; $ publishable        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span>
<span><span class="co">#&gt; $ minimum_seconds    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "", "", "", "", "", "", "", "", "", "", "", "", "",…</span></span></code></pre></div>
<p>Attach variable labels to single selects.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Labeling single select questions, question text as the attribute `label`."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Labeling single select questions, question text as the attribute `label`.</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/singsel_label.html">singsel_label</a></span><span class="op">(</span><span class="va">df</span>, thefields <span class="op">=</span> <span class="va">df_questions</span><span class="op">)</span></span>
<span><span class="co">#&gt; Prepare a list of variable labels.</span></span></code></pre></div>
<p>Attach variable labels to multi selects.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Labeling multiple select questions, question text and response value as the attribute `label`."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Labeling multiple select questions, question text and response value as the attribute `label`.</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multisel_label.html">multisel_label</a></span><span class="op">(</span><span class="va">df</span>, thefields <span class="op">=</span> <span class="va">df_questions</span>, thechoices <span class="op">=</span> <span class="va">df_choices</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loaded multiselect quetions. </span></span>
<span><span class="co">#&gt; Generated the list of variable labels for multiselect columns.</span></span></code></pre></div>
<p>Convert single selects to factor levels.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Converting single select questions to factors."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting single select questions to factors.</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/singsel_asfactor.html">singsel_asfactor</a></span><span class="op">(</span><span class="va">df</span>, thefields <span class="op">=</span> <span class="va">df_questions</span>, thechoices <span class="op">=</span> <span class="va">df_choices</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loaded choices</span></span></code></pre></div>
<p>Convert multi selects to integers.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Converting multi select questions to integers."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Converting multi select questions to integers.</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multisel_levels.html">multisel_levels</a></span><span class="op">(</span><span class="va">df</span>, thefields <span class="op">=</span> <span class="va">df_questions</span>, thechoices <span class="op">=</span> <span class="va">df_choices</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loaded multiselect quetions.</span></span></code></pre></div>
<p>Attach variable labels to single selects.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Labeling single select questions, question text as the attribute `label`."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Labeling single select questions, question text as the attribute `label`.</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/singsel_label.html">singsel_label</a></span><span class="op">(</span><span class="va">df</span>, thefields <span class="op">=</span> <span class="va">df_questions</span><span class="op">)</span></span>
<span><span class="co">#&gt; Prepare a list of variable labels.</span></span></code></pre></div>
<p>Attach variable labels to multi selects.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Labeling multiple select questions, question text and response value as the attribute `label`."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Labeling multiple select questions, question text and response value as the attribute `label`.</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multisel_label.html">multisel_label</a></span><span class="op">(</span><span class="va">df</span>, thefields <span class="op">=</span> <span class="va">df_questions</span>, thechoices <span class="op">=</span> <span class="va">df_choices</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loaded multiselect quetions. </span></span>
<span><span class="co">#&gt; Generated the list of variable labels for multiselect columns.</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="explore">Explore<a class="anchor" aria-label="anchor" href="#explore"></a>
</h3>
<p>Nice and tidy.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 11</span></span>
<span><span class="co">#&gt; Columns: 25</span></span>
<span><span class="co">#&gt; $ CompletionDate     <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2024-04-26 18:13:43, 2024-04-26 18:15:51, 2024-04-…</span></span>
<span><span class="co">#&gt; $ SubmissionDate     <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2024-04-26 18:13:43, 2024-04-26 18:15:51, 2024-04-…</span></span>
<span><span class="co">#&gt; $ starttime          <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2024-04-26 18:13:19, 2024-04-26 18:13:45, 2024-04-…</span></span>
<span><span class="co">#&gt; $ endtime            <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span> 2024-04-26 18:13:42, 2024-04-26 18:15:51, 2024-04-…</span></span>
<span><span class="co">#&gt; $ deviceid           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "(web)", "(web)", "(web)", "(web)", "(web)", "(web)…</span></span>
<span><span class="co">#&gt; $ device_info        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWeb…</span></span>
<span><span class="co">#&gt; $ duration           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "23", "126", "18", "22", "16", "18", "17", "19", "1…</span></span>
<span><span class="co">#&gt; $ consent            <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Yes, Y…</span></span>
<span><span class="co">#&gt; $ name               <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Paul Ellis", "Lyndon Riley", "Vivian Fowler", "Tar…</span></span>
<span><span class="co">#&gt; $ age                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "28", "26", "24", "30", "24", "42", "61", "27", "24…</span></span>
<span><span class="co">#&gt; $ best_jollof        <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> "Sierra Leone", "Gambia, The", "Sierra Leone", "Lib…</span></span>
<span><span class="co">#&gt; $ recommend_kenya_3  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0</span></span>
<span><span class="co">#&gt; $ recommend_kenya_2  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 0, 0, 1, 0, 0, 0, 0, 1, 0</span></span>
<span><span class="co">#&gt; $ instanceID         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "uuid:b86c516f-f5e0-4fdb-a9ba-a4b520b618bc", "uuid:…</span></span>
<span><span class="co">#&gt; $ formdef_version    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "2404261409", "2404261409", "2404261415", "24042614…</span></span>
<span><span class="co">#&gt; $ review_status      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "APPROVED", "APPROVED", "APPROVED", "APPROVED", "AP…</span></span>
<span><span class="co">#&gt; $ KEY                <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "uuid:b86c516f-f5e0-4fdb-a9ba-a4b520b618bc", "uuid:…</span></span>
<span><span class="co">#&gt; $ recommend_kenya_8  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0</span></span>
<span><span class="co">#&gt; $ recommend_kenya_6  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 1, 1, 0, 0, 0, 0, 1, 0, 1, 0</span></span>
<span><span class="co">#&gt; $ recommend_kenya_5  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0</span></span>
<span><span class="co">#&gt; $ recommend_kenya_1  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0</span></span>
<span><span class="co">#&gt; $ recommend_kenya_9  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0</span></span>
<span><span class="co">#&gt; $ recommend_kenya_4  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0</span></span>
<span><span class="co">#&gt; $ recommend_kenya_7  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0</span></span>
<span><span class="co">#&gt; $ recommend_kenya_97 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">labelled</span><span class="fu">::</span><span class="fu"><a href="https://larmarange.github.io/labelled/reference/var_label.html" class="external-link">get_variable_labels</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/enframe.html" class="external-link">enframe</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="20%">
<col width="79%">
</colgroup>
<thead><tr class="header">
<th align="left">name</th>
<th align="left">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">consent</td>
<td align="left">Would you like to continue?</td>
</tr>
<tr class="even">
<td align="left">name</td>
<td align="left">What is your name?</td>
</tr>
<tr class="odd">
<td align="left">age</td>
<td align="left">How old are you?</td>
</tr>
<tr class="even">
<td align="left">best_jollof</td>
<td align="left">Which country makes the best jollof rice?</td>
</tr>
<tr class="odd">
<td align="left">recommend_kenya_3</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ Nyama Choma</td>
</tr>
<tr class="even">
<td align="left">recommend_kenya_2</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ Sukuma Wiki</td>
</tr>
<tr class="odd">
<td align="left">recommend_kenya_8</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ Tilapia Fry</td>
</tr>
<tr class="even">
<td align="left">recommend_kenya_6</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ Githeri</td>
</tr>
<tr class="odd">
<td align="left">recommend_kenya_5</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ Mutura</td>
</tr>
<tr class="even">
<td align="left">recommend_kenya_1</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ Ugali</td>
</tr>
<tr class="odd">
<td align="left">recommend_kenya_9</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ Pilau</td>
</tr>
<tr class="even">
<td align="left">recommend_kenya_4</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ Chips Mayai</td>
</tr>
<tr class="odd">
<td align="left">recommend_kenya_7</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ Mandazi</td>
</tr>
<tr class="even">
<td align="left">recommend_kenya_97</td>
<td align="left">On your first visit to Kenya, which foods should you
try? ~ I can’t choose</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; Classes 'data.table' and 'data.frame':   11 obs. of  25 variables:</span></span>
<span><span class="co">#&gt;  $ CompletionDate    : POSIXct, format: "2024-04-26 18:13:43" "2024-04-26 18:15:51" ...</span></span>
<span><span class="co">#&gt;  $ SubmissionDate    : POSIXct, format: "2024-04-26 18:13:43" "2024-04-26 18:15:51" ...</span></span>
<span><span class="co">#&gt;  $ starttime         : POSIXct, format: "2024-04-26 18:13:19" "2024-04-26 18:13:45" ...</span></span>
<span><span class="co">#&gt;  $ endtime           : POSIXct, format: "2024-04-26 18:13:42" "2024-04-26 18:15:51" ...</span></span>
<span><span class="co">#&gt;  $ deviceid          : chr  "(web)" "(web)" "(web)" "(web)" ...</span></span>
<span><span class="co">#&gt;  $ device_info       : chr  "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36"| __truncated__ "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36"| __truncated__ "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36"| __truncated__ "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36"| __truncated__ ...</span></span>
<span><span class="co">#&gt;  $ duration          : chr  "23" "126" "18" "22" ...</span></span>
<span><span class="co">#&gt;  $ consent           : Factor w/ 2 levels "No","Yes": 2 2 2 2 2 2 2 2 2 2 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "Would you like to continue?"</span></span>
<span><span class="co">#&gt;  $ name              : chr  "Paul Ellis" "Lyndon Riley" "Vivian Fowler" "Tara Murray" ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "What is your name?"</span></span>
<span><span class="co">#&gt;  $ age               : chr  "28" "26" "24" "30" ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "How old are you?"</span></span>
<span><span class="co">#&gt;  $ best_jollof       : Factor w/ 7 levels "Senegal","Gambia, The",..: 6 2 6 5 2 7 1 3 7 6 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "Which country makes the best jollof rice?"</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_3 : num  1 0 0 1 1 0 0 0 0 1 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ Nyama Choma"</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_2 : num  1 1 0 0 1 0 0 0 0 1 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ Sukuma Wiki"</span></span>
<span><span class="co">#&gt;  $ instanceID        : chr  "uuid:b86c516f-f5e0-4fdb-a9ba-a4b520b618bc" "uuid:1f61c00c-2c82-425e-af6d-4b44ef7b7345" "uuid:a80b4daf-abfa-4f37-b248-d79710e9ddb4" "uuid:98705aa6-c97a-47c5-b4d4-6356104340b5" ...</span></span>
<span><span class="co">#&gt;  $ formdef_version   : chr  "2404261409" "2404261409" "2404261415" "2404261415" ...</span></span>
<span><span class="co">#&gt;  $ review_status     : chr  "APPROVED" "APPROVED" "APPROVED" "APPROVED" ...</span></span>
<span><span class="co">#&gt;  $ KEY               : chr  "uuid:b86c516f-f5e0-4fdb-a9ba-a4b520b618bc" "uuid:1f61c00c-2c82-425e-af6d-4b44ef7b7345" "uuid:a80b4daf-abfa-4f37-b248-d79710e9ddb4" "uuid:98705aa6-c97a-47c5-b4d4-6356104340b5" ...</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_8 : num  0 1 0 1 0 0 0 0 0 1 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ Tilapia Fry"</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_6 : num  0 1 1 0 0 0 0 1 0 1 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ Githeri"</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_5 : num  0 0 1 1 0 0 1 0 0 1 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ Mutura"</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_1 : num  0 0 1 1 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ Ugali"</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_9 : num  0 0 1 0 0 0 0 1 0 0 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ Pilau"</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_4 : num  0 0 0 1 0 0 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ Chips Mayai"</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_7 : num  0 0 0 1 0 0 0 0 1 1 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ Mandazi"</span></span>
<span><span class="co">#&gt;  $ recommend_kenya_97: num  0 0 0 0 0 1 0 0 0 0 ...</span></span>
<span><span class="co">#&gt;   ..- attr(*, "label")= chr "On your first visit to Kenya, which foods should you try? ~ I can't choose"</span></span>
<span><span class="co">#&gt;  - attr(*, ".internal.selfref")=&lt;externalptr&gt; </span></span>
<span><span class="co">#&gt;  - attr(*, "scto_type")= chr "form"</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/where.html" class="external-link">where</a></span><span class="op">(</span><span class="va">is.factor</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="op">~</span><span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/adorn_pct_formatting.html" class="external-link">adorn_pct_formatting</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="op">-</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $consent</span></span>
<span><span class="co">#&gt;    .  n percent</span></span>
<span><span class="co">#&gt;  Yes 11  100.0%</span></span>
<span><span class="co">#&gt;   No  0    0.0%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $best_jollof</span></span>
<span><span class="co">#&gt;             . n percent</span></span>
<span><span class="co">#&gt;  Sierra Leone 3   27.3%</span></span>
<span><span class="co">#&gt;   Gambia, The 2   18.2%</span></span>
<span><span class="co">#&gt;       Liberia 2   18.2%</span></span>
<span><span class="co">#&gt;      Cameroon 2   18.2%</span></span>
<span><span class="co">#&gt;       Senegal 1    9.1%</span></span>
<span><span class="co">#&gt;         Ghana 1    9.1%</span></span>
<span><span class="co">#&gt;       Nigeria 0    0.0%</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/where.html" class="external-link">where</a></span><span class="op">(</span><span class="va">is.numeric</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="op">~</span><span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/tabyl.html" class="external-link">tabyl</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/adorn_pct_formatting.html" class="external-link">adorn_pct_formatting</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; $recommend_kenya_3</span></span>
<span><span class="co">#&gt;  . n percent</span></span>
<span><span class="co">#&gt;  0 7   63.6%</span></span>
<span><span class="co">#&gt;  1 4   36.4%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recommend_kenya_2</span></span>
<span><span class="co">#&gt;  . n percent</span></span>
<span><span class="co">#&gt;  0 7   63.6%</span></span>
<span><span class="co">#&gt;  1 4   36.4%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recommend_kenya_8</span></span>
<span><span class="co">#&gt;  . n percent</span></span>
<span><span class="co">#&gt;  0 8   72.7%</span></span>
<span><span class="co">#&gt;  1 3   27.3%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recommend_kenya_6</span></span>
<span><span class="co">#&gt;  . n percent</span></span>
<span><span class="co">#&gt;  0 7   63.6%</span></span>
<span><span class="co">#&gt;  1 4   36.4%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recommend_kenya_5</span></span>
<span><span class="co">#&gt;  . n percent</span></span>
<span><span class="co">#&gt;  0 7   63.6%</span></span>
<span><span class="co">#&gt;  1 4   36.4%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recommend_kenya_1</span></span>
<span><span class="co">#&gt;  . n percent</span></span>
<span><span class="co">#&gt;  0 9   81.8%</span></span>
<span><span class="co">#&gt;  1 2   18.2%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recommend_kenya_9</span></span>
<span><span class="co">#&gt;  . n percent</span></span>
<span><span class="co">#&gt;  0 9   81.8%</span></span>
<span><span class="co">#&gt;  1 2   18.2%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recommend_kenya_4</span></span>
<span><span class="co">#&gt;  .  n percent</span></span>
<span><span class="co">#&gt;  0 10   90.9%</span></span>
<span><span class="co">#&gt;  1  1    9.1%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recommend_kenya_7</span></span>
<span><span class="co">#&gt;  . n percent</span></span>
<span><span class="co">#&gt;  0 8   72.7%</span></span>
<span><span class="co">#&gt;  1 3   27.3%</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recommend_kenya_97</span></span>
<span><span class="co">#&gt;  . n percent</span></span>
<span><span class="co">#&gt;  0 9   81.8%</span></span>
<span><span class="co">#&gt;  1 2   18.2%</span></span></code></pre></div>
<p>▪</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Benjamin Mazzotta.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
